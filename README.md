<h1 align="center">Pain</h1>

<p align="center">
  <a href="https://github.com/ilyaZar/Pain/actions/workflows/ci.yml"><img src="https://img.shields.io/github/actions/workflow/status/ilyaZar/Pain/ci.yml?branch=main&style=flat-square&logo=github&logoColor=white&label=CI&labelColor=2a7e3b&color=1b5e2a"></a>
  <a href="https://codecov.io/gh/ilyaZar/Pain"><img src="https://img.shields.io/codecov/c/github/ilyaZar/Pain/main?style=flat-square&logo=codecov&logoColor=white&labelColor=6b3fa0&color=4b2d73"></a>
  <a href="https://github.com/ilyaZar/Pain/releases"><img src="https://img.shields.io/github/v/tag/ilyaZar/Pain?style=flat-square&label=version&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik0xIDcuNzc1VjIuNzVDMSAxLjc4NCAxLjc4NCAxIDIuNzUgMWg1LjAyNWMuNDY0IDAgLjkxLjE4NCAxLjIzOC41MTNsNi4yNSA2LjI1YTEuNzUgMS43NSAwIDAgMSAwIDIuNDc0bC01LjAyNiA1LjAyNmExLjc1IDEuNzUgMCAwIDEtMi40NzQgMGwtNi4yNS02LjI1QTEuNzUyIDEuNzUyIDAgMCAxIDEgNy43NzVabTEuNSAwYzAgLjA2Ni4wMjYuMTMuMDczLjE3N2w2LjI1IDYuMjVhLjI1LjI1IDAgMCAwIC4zNTQgMGw1LjAyNS01LjAyNWEuMjUuMjUgMCAwIDAgMC0uMzU0bC02LjI1LTYuMjVhLjI1LjI1IDAgMCAwLS4xNzctLjA3M0gyLjc1YS4yNS4yNSAwIDAgMC0uMjUuMjVaTTYgNWExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIi8+PC9zdmc+&labelColor=4a999d&color=346c6e"></a>
  <a href="https://www.sublimetext.com"><img src="https://img.shields.io/badge/Sublime%20Text-4+-aa673a?style=flat-square&logo=sublimetext&logoColor=white&labelColor=d18140"></a>
  <a href="https://www.python.org"><img src="https://img.shields.io/badge/Python-3.8-264a6e?style=flat-square&logo=python&logoColor=white&labelColor=3776ab"></a>
  <a href="https://github.com/ilyaZar/Pain/blob/main/LICENSE"><img src="https://img.shields.io/github/license/ilyaZar/Pain?style=flat-square&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik04Ljc1Ljc1VjJoLjk4NWMuMzA0IDAgLjYwMy4wOC44NjcuMjMxbDEuMjkuNzM2Yy4wMzguMDIyLjA4LjAzMy4xMjQuMDMzaDIuMjM0YS43NS43NSAwIDAgMSAwIDEuNWgtLjQyN2wyLjExMSA0LjY5MmEuNzUuNzUgMCAwIDEtLjE1NC44MzhsLS41My0uNTMuNTI5LjUzMS0uMDAxLjAwMi0uMDAyLjAwMi0uMDA2LjAwNi0uMDA2LjAwNS0uMDEuMDEtLjA0NS4wNGMtLjIxLjE3Ni0uNDQxLjMyNy0uNjg2LjQ1QzE0LjU1NiAxMC43OCAxMy44OCAxMSAxMyAxMWE0LjQ5OCA0LjQ5OCAwIDAgMS0yLjAyMy0uNDU0IDMuNTQ0IDMuNTQ0IDAgMCAxLS42ODYtLjQ1bC0uMDQ1LS4wNC0uMDE2LS4wMTUtLjAwNi0uMDA2LS4wMDQtLjAwNHYtLjAwMWEuNzUuNzUgMCAwIDEtLjE1NC0uODM4TDEyLjE3OCA0LjVoLS4xNjJjLS4zMDUgMC0uNjA0LS4wNzktLjg2OC0uMjMxbC0xLjI5LS43MzZhLjI0NS4yNDUgMCAwIDAtLjEyNC0uMDMzSDguNzVWMTNoMi41YS43NS43NSAwIDAgMSAwIDEuNWgtNi41YS43NS43NSAwIDAgMSAwLTEuNWgyLjVWMy41aC0uOTg0YS4yNDUuMjQ1IDAgMCAwLS4xMjQuMDMzbC0xLjI4OS43MzdjLS4yNjUuMTUtLjU2NC4yMy0uODY5LjIzaC0uMTYybDIuMTEyIDQuNjkyYS43NS43NSAwIDAgMS0uMTU0LjgzOGwtLjUzLS41My41MjkuNTMxLS4wMDEuMDAyLS4wMDIuMDAyLS4wMDYuMDA2LS4wMTYuMDE1LS4wNDUuMDRjLS4yMS4xNzYtLjQ0MS4zMjctLjY4Ni40NUM0LjU1NiAxMC43OCAzLjg4IDExIDMgMTFhNC40OTggNC40OTggMCAwIDEtMi4wMjMtLjQ1NCAzLjU0NCAzLjU0NCAwIDAgMS0uNjg2LS40NWwtLjA0NS0uMDQtLjAxNi0uMDE1LS4wMDYtLjAwNi0uMDA0LS4wMDR2LS4wMDFhLjc1Ljc1IDAgMCAxLS4xNTQtLjgzOEwyLjE3OCA0LjVIMS43NWEuNzUuNzUgMCAwIDEgMC0xLjVoMi4yMzRhLjI0OS4yNDkgMCAwIDAgLjEyNS0uMDMzbDEuMjg4LS43MzdjLjI2NS0uMTUuNTY0LS4yMy44NjktLjIzaC45ODRWLjc1YS43NS43NSAwIDAgMSAxLjUgMFptMi45NDUgOC40NzdjLjI4NS4xMzUuNzE4LjI3MyAxLjMwNS4yNzNzMS4wMi0uMTM4IDEuMzA1LS4yNzNMMTMgNi4zMjdabS0xMCAwYy4yODUuMTM1LjcxOC4yNzMgMS4zMDUuMjczczEuMDItLjEzOCAxLjMwNS0uMjczTDMgNi4zMjdaIi8+PC9zdmc+&labelColor=629944&color=446a30"></a>
  <!-- <a href="https://packagecontrol.io/packages/Pain"><img src="https://img.shields.io/packagecontrol/dt/Pain?style=flat-square&labelColor=5c5c5c&color=3d3d3d"></a> -->
</p>

<p align="center">
A minimalist, fully tested pane-resizing plugin for Sublime Text 4.
</p>
<p align="center">
<big><em>Because there should be no <b>pain</b> when resizing <b>panes</b>.</em></big>
</p>

## Overview

Pain provides keyboard-driven pane resizing with two distinct resize
modes: **directional** and **growth**. It is inspired by
[PanePane](https://github.com/mikesmithgh/PanePane) (no longer
maintained) but rebuilt with a cleaner codebase, full type annotations,
and support for both resize modes.

## Resize Modes

Pain offers two ways of thinking about pane resizing. It maps four
arrow keys to two dimensions (width and height); the meaning of each
key depends on the active mode. You can switch between modes via the
command palette or by changing the `resize_mode` setting.

### Directional Mode (default)

*"Push the separator in a fixed direction."*

| Direction | Action | Suggested Binding |
|:----------|:-------|:------------------|
| `→` | Move separator rightward | `Alt+Right` |
| `←` | Move separator leftward | `Alt+Left` |
| `↓` | Move separator downward | `Alt+Down` |
| `↑` | Move separator upward | `Alt+Up` |

This mode is intuitive when using arrow keys: the separator always
moves in the arrow's direction.

The direction is consistent regardless of which pane is focused,
whether inner or outer (see [Examples](#examples) below).

> [!TIP]
> This is particularly beneficial in a two-column setup where there is
> only one separator: the left and right arrow keys **always** move it
> in the arrow's direction, regardless of which pane is focused:
>
> _When in the flow, you just want the separator to move without
> thinking about which pane you are in_.

**Enable it with:**

```json
"resize_mode": "directional"
```

### Growth Mode

*"Make this pane bigger or smaller."*

| Direction | Action | Suggested Binding |
|:----------|:-------|:------------------|
| `→` | Increase width (grow pane wider) | `Alt+Right` |
| `←` | Decrease width (shrink pane narrower) | `Alt+Left` |
| `↓` | Increase height (grow pane taller) | `Alt+Down` |
| `↑` | Decrease height (shrink pane shorter) | `Alt+Up` |

This mode is intuitive when you think: "I want *this* pane to be
larger."

Which separator moves depends on the pane's position in the layout. For
inner panes, this mode is identical to directional mode. The two modes
differ only at boundary panes (see [Examples](#examples) below).

**Enable it with:**

```json
"resize_mode": "growth"
```

### Equalize

Distributes all separators evenly, resetting every pane in the given
dimension to equal size.

## Examples

### Two-column layout

When focused on an **inner pane** regarding width (with a neighbor to
the right), both modes behave identically: the right arrow key moves
the right separator rightward, and the left arrow key moves it leftward.

```
+------------+------------+
|            |            |
|            |            |
|            |            |
|            |            |
|     1      |     2      |
|            |            |
|            |            |
|            |            |
|            |            |
+------------+------------+
```
Regarding width, pane 1 is an **inner pane** (it has a movable
separator on its right), while pane 2 is a **boundary pane** (its
right edge is the window border). If pane 1 has focus, both modes
behave identically: the middle separator is shifted left or right
with `Alt+Left/Right`.

The two modes differ when focused on a **boundary pane**. Consider the
rightmost pane 2, which only has a separator on its left side (the right
separator/boundary cannot be altered). Suppose it has focus:

- In **directional mode**, the left arrow key moves that separator
  leftward (the pane grows) and the right arrow key moves it
  rightward (the pane shrinks). The arrow always matches the
  direction of movement.
- In **growth mode**, the right arrow key means "grow this pane"
  (the separator moves leftward) and the left arrow key means
  "shrink this pane" (the separator moves rightward). The arrow
  reflects the intent, not the physical direction; thus, the
  separator moves opposite to the key you pressed.

The same logic applies vertically, e.g., in a two-row layout: the two
modes only differ for the bottommost pane.

The demos below show both panes being resized. Pane 1 (inner) responds
identically in both modes; pane 2 (boundary) responds differently.

<table>
<tr>
<td align="center"><strong>Directional Mode</strong></td>
<td align="center"><strong>Growth Mode</strong></td>
</tr>
<tr>
<td align="center"><img src="https://raw.githubusercontent.com/ilyaZar/Pain/main/assets/demo_directional_02_two_column.gif" alt="Directional mode two-column demo" width="400"></td>
<td align="center"><img src="https://raw.githubusercontent.com/ilyaZar/Pain/main/assets/demo_growth_02_two_column.gif" alt="Growth mode two-column demo" width="400"></td>
</tr>
</table>

### Complex layouts

The demos below use a 7-pane layout.

```
+----------+---------+---------+
|          |         |         |
|          |    2    |    3    |
|    1     |         |         |
|          +----+----+----+----+
|          |    |         |    |
|          |  4 |         |  6 |
|          |    |    5    |    |
|          +----+         |    |
|          |    |         |    |
|          |  7 |         |    |
|          |    |         |    |
+----------+----+---------+----+
```

Panes 1, 2, and 4 are inner panes and behave identically in both modes.
Panes **3, 5, 6, and 7** are the boundary panes where directional and
growth mode behave differently.

- **Pane 3** is a boundary pane for width only. Both modes resize the
  same way vertically with `Alt+Up/Down`.
- **Pane 6** is a boundary pane for both width and height. Both modes
  operate differently here.
- **Panes 5 and 7** are boundary for height only. Regarding width they
  are inner panes, so both modes resize the same way horizontally.

The following gives a comparison of only the movements that differ
between the two modes at boundary panes 3, 5, 6, and 7.

<table>
<tr>
<td align="center"><strong>Directional Mode</strong></td>
<td align="center"><strong>Growth Mode</strong></td>
</tr>
<tr>
<td align="center"><img src="https://raw.githubusercontent.com/ilyaZar/Pain/main/assets/demo_directional_01_7_pane.gif" alt="Directional mode 7-pane demo" width="400"></td>
<td align="center"><img src="https://raw.githubusercontent.com/ilyaZar/Pain/main/assets/demo_growth_01_7_pane.gif" alt="Growth mode 7-pane demo" width="400"></td>
</tr>
<tr>
<td align="center"><em>Resizing boundary panes 3, 5, 6, and 7</em></td>
<td align="center"><em>Resizing boundary panes 3, 5, 6, and 7</em></td>
</tr>
</table>


## Installation

### Package Control

Open the command palette (`Ctrl+Shift+P`), select
**Package Control: Install Package**, and search for **Pain**.

### Manual

Clone or symlink the `Pain/` directory into your Sublime Text
`Packages/` folder:

```
# Linux
~/.config/sublime-text/Packages/Pain/

# macOS
~/Library/Application Support/Sublime Text/Packages/Pain/

# Windows
%APPDATA%\Sublime Text\Packages\Pain\
```

## Key Bindings

Pain does **not** ship default key bindings to avoid conflicts with
other packages. Add the bindings you prefer to your user keymap
(`Preferences > Key Bindings`).

### Suggested Bindings (Linux / Windows)

```jsonc
[
    // Directional: move separator left / Growth: decrease width
    { "keys": ["alt+left"],   "command": "pain_resize", "args": { "dimension": "width",  "resize": "decrease" } },
    // Directional: move separator right / Growth: increase width
    { "keys": ["alt+right"],  "command": "pain_resize", "args": { "dimension": "width",  "resize": "increase" } },
    // Directional: move separator up / Growth: decrease height
    { "keys": ["alt+up"],     "command": "pain_resize", "args": { "dimension": "height", "resize": "decrease" } },
    // Directional: move separator down / Growth: increase height
    { "keys": ["alt+down"],   "command": "pain_resize", "args": { "dimension": "height", "resize": "increase" } },
    // Equalize all panes
    { "keys": ["alt+="],      "command": "pain_resize", "args": { "dimension": "all",    "resize": "equal" } }
]
```

### Suggested Bindings (macOS)

```jsonc
[
    // Directional: move separator left / Growth: decrease width
    { "keys": ["super+ctrl+left"],  "command": "pain_resize", "args": { "dimension": "width",  "resize": "decrease" } },
    // Directional: move separator right / Growth: increase width
    { "keys": ["super+ctrl+right"], "command": "pain_resize", "args": { "dimension": "width",  "resize": "increase" } },
    // Directional: move separator up / Growth: decrease height
    { "keys": ["super+ctrl+up"],    "command": "pain_resize", "args": { "dimension": "height", "resize": "decrease" } },
    // Directional: move separator down / Growth: increase height
    { "keys": ["super+ctrl+down"],  "command": "pain_resize", "args": { "dimension": "height", "resize": "increase" } },
    // Equalize all panes
    { "keys": ["super+ctrl+="],     "command": "pain_resize", "args": { "dimension": "all",    "resize": "equal" } }
]
```

## Commands

Resize commands are designed for repeated, rapid keypresses and are
only available through key bindings (see above). The following
commands are available from the command palette (`Ctrl+Shift+P`):

| Palette Caption | Description |
|:----------------|:------------|
| Pain: Toggle Resize Mode | Switch between directional and growth mode. |
| Preferences: Pain Settings | Open default and user settings side by side. |

## Settings

Open settings via `Preferences > Package Settings > Pain > Settings`.

| Setting | Type | Default | Description |
|:--------|:-----|:--------|:------------|
| `resize_mode` | string | `"directional"` | `"directional"` (default) or `"growth"`. See [Resize Modes](#resize-modes). |
| `resize_amount` | int | `3` | Percentage of editor width/height to resize per keypress (1--100). |

## Package Landscape

Pain is a dedicated pane-resizing plugin. The Sublime Text ecosystem
has several pane-related packages.

### Origami

[Origami](https://github.com/SublimeText/Origami) (146K installs) is
the standard pane management plugin, maintained under the official
Sublime Text organization. It handles the full pane lifecycle:
creating / destroying / navigating / carrying / cloning files between panes.

Origami and Pain are **complementary**:

- **Origami** excels at pane creation and navigation (`Ctrl+K` then
  arrow keys to create/destroy/travel between panes).
- **Pain** excels at pane resizing with simple, repeatable hotkeys.

Origami does include resize-related features (zoom and separator
editing), but they serve a different use case:

- **Zoom** sets the active pane to a fixed fraction (e.g. 90%) in a
  single action. This is useful for temporarily maximizing focus, not for
  fine-grained incremental adjustment.
- **Separator editing** opens an input panel where you type exact
  separator positions as decimal values (e.g. `0.3, 0.7`). This is
  precise but not suitable for rapid keyboard-driven resizing.

Pain also offers two resize modes (directional and growth) that have no
equivalent in Origami. See [Resize Modes](#resize-modes).

### Retired packages

To the best of my knowledge, the following packages that provide pane
resizing functionality are unfortunately no longer maintained and/or
outdated, or have a different purpose:

| Package | Last Updated | ST | Mode | Notes |
|:--------|:-------------|:---|:-----|:------|
| [PanePane](https://github.com/mikesmithgh/PanePane) | 2017 | ST3 | growth | Explicitly abandoned. Pain is its spiritual successor. |
| [Resize Group with Keyboard](https://packagecontrol.io/packages/Resize%20Group%20with%20Keyboard) | 2018 | ST2/ST3 | growth | Arrow-key resize with configurable delta. |
| [GoldenRatio](https://packagecontrol.io/packages/GoldenRatio) | 2015 | ST2/ST3 | -- | Auto-resize to golden ratio on focus. |
| [Layout](https://packagecontrol.io/packages/Layout) | 2016 | ST3 | directional | tmux-style pane management with `Alt+HJKL` resize. |
| [Expand Group](https://packagecontrol.io/packages/Expand%20Group) | 2014 | ST3 | -- | Focus-switch with automatic ratio resize. |
| [MaxPane](https://packagecontrol.io/packages/MaxPane) | 2020 | ST2/ST3/ST4 | -- | Toggle maximize/restore a single pane. |
| [Pane Resizer](https://packagecontrol.io/packages/Pane%20Resizer) | 2014 | ST2/ST3 | -- | Symmetric expand/contract active pane. |
| [Laynger](https://packagecontrol.io/packages/Laynger) | 2014 | ST2/ST3 | directional | Two-column border nudging. |
| [SplitScreen-Resizer](https://packagecontrol.io/packages/SplitScreen-Resizer) | 2012 | ST2 | -- | Two-column focus-switch with ratio resize. |
| [Resize Active Group](https://packagecontrol.io/packages/Resize%20Active%20Group) | 2012 | ST2 | -- | Auto-resize active group on focus. |
| [Wiggle](https://packagecontrol.io/packages/Wiggle) | 2013 | ST2 | directional | Push/pull pane borders. |

**Mode legend:**

- **directional**: moves a specific border in a direction
- **growth**: grows or shrinks the active pane
- **--**: other approach (zoom, ratio snap, auto-resize on focus, etc.)

Pain is the only ST4-native plugin that offers both directional and
growth modes.

## Issues

Found a bug or have a feature request? Please open an issue on GitHub:

<https://github.com/ilyaZar/Pain/issues>
